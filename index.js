const _0x517902=_0x38b0;(function(_0x40ba7a,_0x4b420f){const _0x4dc30f=_0x38b0,_0xc727db=_0x40ba7a();while(!![]){try{const _0x3e251d=-parseInt(_0x4dc30f(0xfa))/(-0x1ca9*-0x1+0x1*-0x5cb+-0x16dd)+-parseInt(_0x4dc30f(0x9e))/(-0xe74+-0x1954+0x27ca)+parseInt(_0x4dc30f(0x9a))/(-0x74b+-0x819*-0x4+0x1*-0x1916)*(-parseInt(_0x4dc30f(0xa6))/(-0x1*-0x17cb+-0x2542+-0xd7b*-0x1))+parseInt(_0x4dc30f(0x10b))/(-0x1e05+-0x1*-0x9f2+-0x2*-0xa0c)*(-parseInt(_0x4dc30f(0xc4))/(0x1e4c+-0x1c1a+-0x1*0x22c))+parseInt(_0x4dc30f(0xe8))/(0x1cf+-0xc54+0x19*0x6c)*(-parseInt(_0x4dc30f(0x112))/(-0x2*-0x784+-0xe99*0x1+-0x67))+-parseInt(_0x4dc30f(0x89))/(0x1d3b+-0x3a9+-0x1989)*(-parseInt(_0x4dc30f(0x107))/(-0x72f+0xb0b*0x2+-0x5*0x2f9))+parseInt(_0x4dc30f(0xcb))/(0xf4e+-0x2ec*-0x5+0x9f5*-0x3);if(_0x3e251d===_0x4b420f)break;else _0xc727db['push'](_0xc727db['shift']());}catch(_0x46fc12){_0xc727db['push'](_0xc727db['shift']());}}}(_0x20e2,-0x16d3ff+0x16643*0x11+0x3f*0x3296));const axios=require(_0x517902(0xf1)),yts=require(_0x517902(0x8a)),{createDecipheriv}=require(_0x517902(0xb5)),cheerio=require(_0x517902(0xee)),formData=require(_0x517902(0xb8)),{lookup}=require(_0x517902(0x92)),fs=require('fs');const formatOptions={mp3:{extension:'.mp3',mimeType:'audio/mpeg',codec:'libmp3lame'},mp4:{extension:'.mp4',mimeType:'video/mp4',codec:'libx264'},webm:{extension:'.webm',mimeType:'video/webm',codec:'libvpx-vp9'},m4a:{extension:'.m4a',mimeType:'audio/mp4',codec:'aac'}};const extractEnhancedMetadata=async(videoId)=>{try{const{data}=await axios.get(`https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=${videoId}&format=json`);return{title:data.title,author:data.author_name,author_url:data.author_url,thumbnail_url:data.thumbnail_url,width:data.width,height:data.height,html:data.html,provider_name:data.provider_name,provider_url:data.provider_url};}catch(error){return null;}};const downloadWithProgress=async(url,filename,onProgress)=>{try{const response=await axios({method:'get',url:url,responseType:'stream'});const totalLength=response.headers['content-length'];let downloadedLength=0;response.data.on('data',(chunk)=>{downloadedLength+=chunk.length;const progress=(downloadedLength/totalLength)*100;if(onProgress)onProgress(Math.round(progress));});const writer=fs.createWriteStream(filename);response.data.pipe(writer);return new Promise((resolve,reject)=>{writer.on('finish',resolve);writer.on('error',reject);});}catch(error){throw error;}};const extractVideoId=_0xb43edf=>{const _0x34c699=_0x517902,_0x5ba70d=/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|v\/|embed\/|user\/[^\/\n\s]+\/)?(?:watch\?v=|v%3D|embed%2F|video%2F)?|youtu\.be\/|youtube\.com\/watch\?v=|youtube\.com\/embed\/|youtube\.com\/v\/|youtube\.com\/shorts\/|youtube\.com\/playlist\?list=)([a-zA-Z0-9_-]{11})/,_0x5ddb16=_0xb43edf[_0x34c699(0xc1)](_0x5ba70d);return _0x5ddb16?_0x5ddb16[0x1eb4+-0x2f*0x1d+-0x1960]:null;},audioQualities=[-0xdf+-0x44e*-0x6+-0x18d5,-0x9ec+0x2*0x9a5+0x30a*-0x3,0x199c+0x1ae9+-0x3425*0x1,0x1dc5+0x343*-0xa+-0x1*-0x359,0x194*0x1+0xe82*-0x1+0xd8e,-0x1751+-0x94c+-0x49*-0x75,0x1*0xe7f+0x1*0x221b+-0x2f9a,-0x70a+0xa8b*-0x1+0x1*0x12d5],videoQualities=[0xec+-0x1161+0x1105,0x1139+-0x2b9*-0x6+-0x209f*0x1,0x98e*-0x1+-0x1c31+0x2727,-0x1e1b+0x11b*0xd+0x119c,0x5be+-0xdb2+0xac4,-0x139c+0x4*0x63+0x1648,-0x225b+-0x1269*-0x1+0xac9*0x2],decryptInfo=_0x49ab04=>{const _0xad8829=_0x517902,_0x2f7f4d={'zDMBC':_0xad8829(0x7e)+_0xad8829(0x102)+_0xad8829(0x108)+'12','FhHtX':_0xad8829(0x91),'QMtGV':_0xad8829(0xbf),'tSzXL':function(_0x181e90,_0x452bd0,_0x3a3ea4,_0x32f6ef){return _0x181e90(_0x452bd0,_0x3a3ea4,_0x32f6ef);},'WInrD':_0xad8829(0xd0)+'c'},_0x545ece=_0x2f7f4d[_0xad8829(0xaa)],_0xcf6b6a=Buffer[_0xad8829(0xe3)](_0x49ab04,_0x2f7f4d[_0xad8829(0x10f)]),_0x403154=_0xcf6b6a[_0xad8829(0xc9)](0xb3e+-0x2c2*-0x4+-0x1646,0x14c5+-0x1*-0xcf4+-0x21a9),_0x534f49=_0xcf6b6a[_0xad8829(0xc9)](0x147c+-0x1*0x14ad+0x41),_0x295c7d=Buffer[_0xad8829(0xe3)](_0x545ece,_0x2f7f4d[_0xad8829(0x7b)]),_0x4fa134=_0x2f7f4d[_0xad8829(0x8e)](createDecipheriv,_0x2f7f4d[_0xad8829(0x87)],_0x295c7d,_0x403154),_0x1cfaf1=Buffer[_0xad8829(0xed)]([_0x4fa134[_0xad8829(0x88)](_0x534f49),_0x4fa134[_0xad8829(0xf0)]()]);return JSON[_0xad8829(0x85)](_0x1cfaf1[_0xad8829(0xf4)]());},fetchDownload=async(_0x39c0c6,_0x4442cf,_0x560861)=>{const _0x3e6dd4=_0x517902,_0x1e16f2={'DqIEG':_0x3e6dd4(0x114)+_0x3e6dd4(0xae)+_0x3e6dd4(0x98)+_0x3e6dd4(0xf2),'RHrKL':_0x3e6dd4(0xe9)+_0x3e6dd4(0xf9)+')','gKwgG':_0x3e6dd4(0x86)+_0x3e6dd4(0xc8)+_0x3e6dd4(0xec)+_0x3e6dd4(0xf8)+_0x3e6dd4(0xb1),'yxmNd':function(_0x67c99,_0x30e55d){return _0x67c99(_0x30e55d);},'gRQRI':function(_0x3147c5,_0x59c77f){return _0x3147c5(_0x59c77f);},'MgTxE':_0x3e6dd4(0x73)+_0x3e6dd4(0xb0),'ttqEg':_0x3e6dd4(0x86)+_0x3e6dd4(0xc8)+_0x3e6dd4(0xfb)+_0x3e6dd4(0x10a)+_0x3e6dd4(0xe6)+_0x3e6dd4(0xab)+_0x3e6dd4(0x80),'rtcRr':_0x3e6dd4(0x70)+_0x3e6dd4(0xa9),'TBdwW':function(_0x5a7702,_0x1a6ce6){return _0x5a7702(_0x1a6ce6);},'mwdaf':_0x3e6dd4(0xaf)+_0x3e6dd4(0x96)+_0x3e6dd4(0xac),'yQnce':function(_0x32f89b,_0xc5c63){return _0x32f89b===_0xc5c63;},'KvadC':_0x3e6dd4(0xd1),'GGeBW':_0x3e6dd4(0xbe),'zbjih':_0x3e6dd4(0x8d),'gAxaT':_0x3e6dd4(0x104),'TaTPe':_0x3e6dd4(0xcf)+_0x3e6dd4(0x115),'vixek':_0x3e6dd4(0xa7)+_0x3e6dd4(0x116)};try{const {data:_0x296df1}=await axios[_0x3e6dd4(0xc0)](_0x1e16f2[_0x3e6dd4(0xcd)]),_0x262981=_0x3e6dd4(0x10c)+_0x296df1[_0x3e6dd4(0x111)],{data:_0xeea6fd}=await axios[_0x3e6dd4(0x10d)](_0x262981+_0x3e6dd4(0x94),{'url':_0x39c0c6},{'headers':{'User-Agent':_0x1e16f2[_0x3e6dd4(0x95)],'Referer':_0x1e16f2[_0x3e6dd4(0xd5)]}}),_0x3dac82=_0x1e16f2[_0x3e6dd4(0xb9)](decryptInfo,_0xeea6fd[_0x3e6dd4(0x93)]),{data:_0x482278}=await axios[_0x3e6dd4(0x10d)](_0x262981+_0x3e6dd4(0xa2),{'downloadType':_0x560861,'quality':_0x1e16f2[_0x3e6dd4(0xe1)](String,_0x4442cf),'key':_0x3dac82[_0x3e6dd4(0x7d)]},{'headers':{'Content-Type':_0x1e16f2[_0x3e6dd4(0xd2)],'User-Agent':_0x1e16f2[_0x3e6dd4(0x95)],'Referer':_0x1e16f2[_0x3e6dd4(0x100)]}});let _0x302764=null;try{const {headers:_0x5bb533}=await axios[_0x3e6dd4(0x110)](_0x482278[_0x3e6dd4(0x93)][_0x3e6dd4(0xa3)+'l']);_0x302764=_0x5bb533[_0x1e16f2[_0x3e6dd4(0x77)]]?_0x1e16f2[_0x3e6dd4(0xdb)](Number,_0x5bb533[_0x1e16f2[_0x3e6dd4(0x77)]]):null;}catch(_0x4aeaf2){console[_0x3e6dd4(0xb7)](_0x1e16f2[_0x3e6dd4(0xf5)],_0x4aeaf2[_0x3e6dd4(0xd7)]);}return{'status':!![],'url':_0x482278[_0x3e6dd4(0x93)][_0x3e6dd4(0xa3)+'l'],'quality':''+_0x4442cf+(_0x1e16f2[_0x3e6dd4(0xa8)](_0x560861,_0x1e16f2[_0x3e6dd4(0x103)])?_0x1e16f2[_0x3e6dd4(0xba)]:'p'),'availableQuality':_0x1e16f2[_0x3e6dd4(0xa8)](_0x560861,_0x1e16f2[_0x3e6dd4(0x103)])?audioQualities:videoQualities,'size':_0x302764,'filename':_0x3dac82[_0x3e6dd4(0xca)]+'\x20('+_0x4442cf+(_0x1e16f2[_0x3e6dd4(0xa8)](_0x560861,_0x1e16f2[_0x3e6dd4(0x103)])?_0x1e16f2[_0x3e6dd4(0x7f)]:_0x1e16f2[_0x3e6dd4(0xd4)])};}catch(_0x272abb){return console[_0x3e6dd4(0xb2)](_0x1e16f2[_0x3e6dd4(0x113)],_0x272abb[_0x3e6dd4(0xd7)]),{'status':![],'message':_0x1e16f2[_0x3e6dd4(0x74)]};}};async function ytmp3(_0x18e15c,_0x32fc34=128){const _0x3e82d6=_0x517902,_0x5ae962={'nwMMa':function(_0x2a8327,_0x2a9158){return _0x2a8327(_0x2a9158);},'nzWOA':_0x3e82d6(0xf3)+_0x3e82d6(0xea)+_0x3e82d6(0xe7),'AnXTP':function(_0x157667,_0x1de9e1,_0x573ad0,_0x5dd813){return _0x157667(_0x1de9e1,_0x573ad0,_0x5dd813);},'OQeNZ':_0x3e82d6(0xd1),'EoVxU':_0x3e82d6(0xce)},_0x5bf9f7=_0x5ae962[_0x3e82d6(0x10e)](extractVideoId,_0x18e15c);if(!_0x5bf9f7)return{'status':![],'message':_0x5ae962[_0x3e82d6(0x83)]};const _0x5bcde6=audioQualities[_0x3e82d6(0xa5)](+_0x32fc34)?+_0x32fc34:128,_0x277e7b=_0x3e82d6(0xf6)+_0x3e82d6(0x75)+_0x3e82d6(0x106)+_0x5bf9f7;try{const _0xbcebdd=await _0x5ae962[_0x3e82d6(0x10e)](yts,_0x277e7b),_0x1b5821=await _0x5ae962[_0x3e82d6(0xc5)](fetchDownload,_0x277e7b,_0x5bcde6,_0x5ae962[_0x3e82d6(0x8b)]),_0xenh=await extractEnhancedMetadata(_0x5bf9f7);return{'status':!![],'creator':_0x5ae962[_0x3e82d6(0xc6)],'metadata':{..._0xbcebdd[_0x3e82d6(0xe0)][0],enhanced:_0xenh},'download':_0x1b5821};}catch(_0x3a3967){return{'status':![],'message':_0x3a3967[_0x3e82d6(0xd7)]};}};async function ytmp4(_0x29f7f0,_0x6650be=360){const _0x326139=_0x517902,_0x3ef1b9={'LkCWq':function(_0xfdb8cc,_0x3127b6){return _0xfdb8cc(_0x3127b6);},'UZJop':_0x326139(0xf3)+_0x326139(0xea)+_0x326139(0xe7),'akzXh':function(_0x1456ef,_0x560410,_0x217da1,_0x463a8c){return _0x1456ef(_0x560410,_0x217da1,_0x463a8c);},'bfcZE':_0x326139(0x99),'hHWbQ':_0x326139(0xce)},_0x4d87dc=_0x3ef1b9[_0x326139(0xa4)](extractVideoId,_0x29f7f0);if(!_0x4d87dc)return{'status':![],'message':_0x3ef1b9[_0x326139(0x76)]};const _0x36f7b6=videoQualities[_0x326139(0xa5)](+_0x6650be)?+_0x6650be:360,_0x3763e4=_0x326139(0xf6)+_0x326139(0x75)+_0x326139(0x106)+_0x4d87dc;try{const _0x3943c9=await _0x3ef1b9[_0x326139(0xa4)](yts,_0x3763e4),_0x37da04=await _0x3ef1b9[_0x326139(0xa1)](fetchDownload,_0x3763e4,_0x36f7b6,_0x3ef1b9[_0x326139(0xbd)]),_0xenh=await extractEnhancedMetadata(_0x4d87dc);return{'status':!![],'creator':_0x3ef1b9[_0x326139(0x97)],'metadata':{..._0x3943c9[_0x326139(0xe0)][0],enhanced:_0xenh},'download':_0x37da04};}catch(_0x4aa388){return{'status':![],'message':_0x4aa388[_0x326139(0xd7)]};}}function _0x38b0(_0x58d8e8,_0x414f9){_0x58d8e8=_0x58d8e8-(-0xba0+-0xe9*0x9+-0x90*-0x24);const _0x22e9c9=_0x20e2();let _0x2f7792=_0x22e9c9[_0x58d8e8];return _0x2f7792;};function _0x20e2(){const _0x13ccfe=['n/json','039','error','timestamp','ai_respons','crypto','s.kooska.x','warn','form-data','yxmNd','GGeBW','KLUqJ','yz/','bfcZE','kbps','hex','get','match','ko)\x20Chrome','QSRqj','30252ypWZaa','AnXTP','EoVxU','duXBE','.savetube.','slice','title','31916478XFvQJK','eVxEx','DqIEG','@Corvette','Download\x20e','aes-128-cb','audio','MgTxE','TJviD','gAxaT','gKwgG','gEDwX','message','NpHpn','apatkan\x20re','Video\x20tida','TBdwW','0\x20(Linux;\x20','CKyRh','exports','oska.xyz/','all','gRQRI','BqBvv','from','thumbnail','status','om=1kejjj1','lid','22589gZBzIJ','Mozilla/5.','e\x20tidak\x20va','an\x20pesan:\x20','me/1kejjj1','concat','cheerio',',\x20like\x20Gec','final','axios','random-cdn','URL\x20YouTub','toString','mwdaf','https://yo','/132.0.0.0','?id=362796','0\x20(Android','413177lZxWtk','me/start-d','.36\x20(KHTML','url','strTi','noHMd','ttqEg','BFTvV','7584E4A29F','KvadC','p).mp4','xnoXE','watch?v=','110YOZOwZ','6C35BBC4EB','FcJbk','ownload?fr','1345fmtyEw','https://','post','nwMMa','FhHtX','head','cdn','1168CwxGNp','TaTPe','https://me','rror:','agal','https://ko','ZTpDF','content-le','author',';\x20K)\x20Apple','applicatio','vixek','utube.com/','UZJop','rtcRr','results','WebKit/537','RFvNq','QMtGV','push','key','C5D58EF67A','zbjih','2796039','Android\x2010','Tbmnb','nzWOA','name','parse','https://yt','WInrD','update','1328121xIKKBS','yt-search','OQeNZ','then','kbps).mp3','tSzXL','fari/537.3','k\x20ditemuka','base64','mime-types','data','/v2/info','RHrKL','ambil\x20ukur','hHWbQ','be.me/api/','video','102450BoXMFw','length','spon,\x20deng','Gagal\x20mend','1580996elPPWO','transcript','video_id','akzXh','/download','downloadUr','LkCWq','includes','72pJFyyh','Download\x20g','yQnce','ngth','zDMBC','%3Fid%3D36','an\x20file:','\x20Mobile\x20Sa','dia.savetu','Gagal\x20meng'];_0x20e2=function(){return _0x13ccfe;};return _0x20e2();}async function transcript(_0x4974a5){const _0x484a30=_0x517902,_0x44e49c={'CKyRh':_0x484a30(0x86)+_0x484a30(0xb6)+_0x484a30(0xbc),'BFTvV':_0x484a30(0x73)+_0x484a30(0xb0),'TJviD':_0x484a30(0xe9)+_0x484a30(0xdc)+_0x484a30(0x81)+_0x484a30(0x72)+_0x484a30(0x79)+_0x484a30(0xfc)+_0x484a30(0xef)+_0x484a30(0xc2)+_0x484a30(0xf7)+_0x484a30(0xad)+_0x484a30(0x8f)+'6','noHMd':_0x484a30(0x117)+_0x484a30(0xdf),'Tbmnb':_0x484a30(0xce)};try{let _0x24d703=await axios[_0x484a30(0xc0)](_0x44e49c[_0x484a30(0xdd)],{'params':{'url':_0x4974a5},'headers':{'Content-Type':_0x44e49c[_0x484a30(0x101)],'User-Agent':_0x44e49c[_0x484a30(0xd3)],'Referer':_0x44e49c[_0x484a30(0xff)]}})[_0x484a30(0x8c)](_0x398088=>_0x398088[_0x484a30(0x93)]);return{'status':!![],'creator':_0x44e49c[_0x484a30(0x82)],'video_id':_0x24d703[_0x484a30(0xa0)],'summarize':_0x24d703[_0x484a30(0xb4)+'e'],'transcript':_0x24d703[_0x484a30(0x9f)]};}catch(_0x242ddf){return{'status':![],'msg':_0x484a30(0x9d)+_0x484a30(0xd9)+_0x484a30(0x9c)+_0x484a30(0xeb)+_0x242ddf[_0x484a30(0xd7)]};}}async function playmp3(_0x5932d6,_0x3d6659=128){const _0x543feb=_0x517902,_0x12b5dc={'NpHpn':function(_0x2ec329,_0x4d520){return _0x2ec329(_0x4d520);},'KLUqJ':_0x543feb(0xda)+_0x543feb(0x90)+'n','RFvNq':function(_0x39242e,_0x227ee6,_0xf54948,_0x475f99){return _0x39242e(_0x227ee6,_0xf54948,_0x475f99);},'gEDwX':_0x543feb(0xd1),'FcJbk':_0x543feb(0xce)};try{const _0x5a00e3=await _0x12b5dc[_0x543feb(0xd8)](search,_0x5932d6);if(!_0x5a00e3[_0x543feb(0xe5)]||!_0x5a00e3[_0x543feb(0x78)][0])return{'status':![],'message':_0x12b5dc[_0x543feb(0xbb)]};const _0x2d7ae0=[];for(let _0x56d7a0 of _0x5a00e3[_0x543feb(0x78)].slice(0,5)){const _0x47aa36=await _0x12b5dc[_0x543feb(0x7a)](fetchDownload,_0x56d7a0[_0x543feb(0xfd)],_0x3d6659,_0x12b5dc[_0x543feb(0xd6)]);_0x2d7ae0.push({'title':_0x56d7a0[_0x543feb(0xca)],'author':_0x56d7a0[_0x543feb(0x71)][_0x543feb(0x84)],'duration':_0x56d7a0[_0x543feb(0xb3)],'url':_0x56d7a0[_0x543feb(0xfd)],'thumbnail':_0x56d7a0[_0x543feb(0xe4)],'download':_0x47aa36});}return{'status':!![],'creator':_0x12b5dc[_0x543feb(0x109)],'type':_0x12b5dc[_0x543feb(0xd6)],'results':_0x2d7ae0};}catch(_0x55c358){return{'status':![],'message':_0x55c358[_0x543feb(0xd7)]};}};async function playmp4(_0x362252,_0x142ab3=360){const _0x4a1690=_0x517902,_0x5dc7b0={'eVxEx':function(_0x2b6596,_0x1d01ea){return _0x2b6596(_0x1d01ea);},'xnoXE':_0x4a1690(0xda)+_0x4a1690(0x90)+'n','BqBvv':function(_0x530e41,_0x20a613,_0x368097,_0x50aed6){return _0x530e41(_0x20a613,_0x368097,_0x50aed6);},'ZTpDF':_0x4a1690(0x99),'duXBE':_0x4a1690(0xce)};try{const _0x3c8425=await _0x5dc7b0[_0x4a1690(0xcc)](search,_0x362252);if(!_0x3c8425[_0x4a1690(0xe5)]||!_0x3c8425[_0x4a1690(0x78)][0])return{'status':![],'message':_0x5dc7b0[_0x4a1690(0x105)]};const _0x5b412d=[];for(let _0x2376fd of _0x3c8425[_0x4a1690(0x78)].slice(0,5)){const _0x18e2d5=await _0x5dc7b0[_0x4a1690(0xe2)](fetchDownload,_0x2376fd[_0x4a1690(0xfd)],_0x142ab3,_0x5dc7b0[_0x4a1690(0x6f)]);_0x5b412d.push({'title':_0x2376fd[_0x4a1690(0xca)],'author':_0x2376fd[_0x4a1690(0x71)][_0x4a1690(0x84)],'duration':_0x2376fd[_0x4a1690(0xb3)],'url':_0x2376fd[_0x4a1690(0xfd)],'thumbnail':_0x2376fd[_0x4a1690(0xe4)],'download':_0x18e2d5});}return{'status':!![],'creator':_0x5dc7b0[_0x4a1690(0xc7)],'type':_0x5dc7b0[_0x4a1690(0x6f)],'results':_0x5b412d};}catch(_0x9b8114){return{'status':![],'message':_0x9b8114[_0x4a1690(0xd7)]};}};async function search(_0x1a6d46){const _0x469b84=_0x517902,_0x26f137={'QSRqj':function(_0x4a7452,_0x4fd982){return _0x4a7452(_0x4fd982);},'strTi':_0x469b84(0xce)};try{let _0x4c1d78=await _0x26f137[_0x469b84(0xc3)](yts,_0x1a6d46);return{'status':!![],'creator':_0x26f137[_0x469b84(0xfe)],'results':_0x4c1d78[_0x469b84(0xe0)]};}catch(_0x29cd0c){return{'status':![],'message':_0x29cd0c[_0x469b84(0xd7)]};}}module[_0x517902(0xde)]={'search':search,'ytmp3':ytmp3,'ytmp4':ytmp4,'downloadWithProgress':downloadWithProgress,'formatOptions':formatOptions,'extractEnhancedMetadata':extractEnhancedMetadata};```
